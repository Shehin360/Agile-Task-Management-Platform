<div class="auth-page">
  <!-- Floating orbs -->
  <div class="auth-orb auth-orb-1"></div>
  <div class="auth-orb auth-orb-2"></div>
  <div class="auth-orb auth-orb-3"></div>

  <div class="auth-container" @fadeIn>
    <!-- Brand -->
    <div class="auth-brand">
      <h1 class="auth-logo">Sprintly</h1>
      <p class="auth-tagline">Agile Task Management</p>
    </div>

    <!-- Card -->
    <div class="auth-card" [@shake]="shakeState()">
      <h2 class="auth-heading">Welcome Back</h2>
      <p class="auth-subheading">Sign in to your workspace</p>

      <!-- Error -->
      @if (error()) {
      <div class="auth-error">
        <span class="auth-error-icon">âš ï¸</span>
        <span>{{ error() }}</span>
      </div>
      }

      <!-- Username -->
      <div class="auth-input-group">
        <label class="auth-input-label" for="username">Username</label>
        <div class="auth-input-wrapper" [class.input-invalid]="usernameError()">
          <span class="auth-input-icon">ğŸ‘¤</span>
          <input
            class="auth-input"
            id="username"
            type="text"
            placeholder="Enter your username"
            [value]="username()"
            (input)="onUsernameInput($any($event.target).value)"
            (blur)="onUsernameBlur()"
            (keyup.enter)="onSubmit()"
            autocomplete="username"
          />
          @if (usernameError()) {
          <span class="auth-input-status">âœ•</span>
          } @else if (usernameTouched() && !usernameError()) {
          <span class="auth-input-status valid">âœ“</span>
          }
        </div>
        @if (usernameError()) {
        <span class="auth-field-error">{{ usernameError() }}</span>
        }
      </div>

      <!-- Password -->
      <div class="auth-input-group">
        <label class="auth-input-label" for="password">Password</label>
        <div class="auth-input-wrapper" [class.input-invalid]="passwordError()">
          <span class="auth-input-icon">ğŸ”’</span>
          <input
            class="auth-input"
            id="password"
            [type]="showPassword() ? 'text' : 'password'"
            placeholder="Enter your password"
            [value]="password()"
            (input)="onPasswordInput($any($event.target).value)"
            (blur)="onPasswordBlur()"
            (keyup.enter)="onSubmit()"
            autocomplete="current-password"
          />
          <button class="auth-password-toggle" type="button" (click)="togglePassword()">
            {{ showPassword() ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
          </button>
        </div>
        @if (passwordError()) {
        <span class="auth-field-error">{{ passwordError() }}</span>
        }
      </div>

      <!-- Submit -->
      <button class="auth-btn" (click)="onSubmit()" [disabled]="isLoading()">
        @if (isLoading()) {
        <span class="auth-spinner"></span>
        <span>Signing in...</span>
        } @else {
        <span>Sign In</span>
        <span class="auth-btn-arrow">â†’</span>
        }
      </button>

      <!-- Link to register -->
      <div class="auth-switch">
        <span class="auth-switch-text">Don't have an account?</span>
        <a class="auth-switch-link" routerLink="/register">Create one</a>
      </div>
    </div>
  </div>
</div>
